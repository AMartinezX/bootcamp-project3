{"ast":null,"code":"import _classCallCheck from \"/Users/karineabalyan/development/project-3-boiler-authentication/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/karineabalyan/development/project-3-boiler-authentication/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/karineabalyan/development/project-3-boiler-authentication/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/karineabalyan/development/project-3-boiler-authentication/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/karineabalyan/development/project-3-boiler-authentication/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _objectWithoutProperties from \"/Users/karineabalyan/development/project-3-boiler-authentication/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/karineabalyan/development/project-3-boiler-authentication/client/src/App.js\";\nimport React from \"react\";\nimport { StaticRouter, BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport Books from \"./pages/Books\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport NoMatch from \"./pages/NoMatch\";\nimport Nav from \"./components/Nav\";\nimport {\n/* getCookie, */\nauthenticateUser } from \"./utils/handleSessions\";\n\nvar PrivateRoute = function PrivateRoute(_ref) {\n  var Component = _ref.component,\n      state = _ref.state,\n      rest = _objectWithoutProperties(_ref, [\"component\", \"state\"]);\n\n  return React.createElement(Route, Object.assign({}, rest, {\n    render: function render(props) {\n      return state.authenticated === true ? React.createElement(Component, Object.assign({}, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      })) : state.loading === true ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }) : React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }));\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  // check cookie\n  // getCookie();\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.authenticate = function () {\n      return authenticateUser().then(function (auth) {\n        return _this.setState({\n          authenticated: auth.status == 200 ? true : false,\n          loading: false\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.state = {\n      authenticated: false,\n      loading: false,\n      ssr: props.ssr ? true : false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {// this.authenticate();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var RouterComponent = this.state.ssr ? StaticRouter : Router;\n      return React.createElement(RouterComponent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(Nav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(Route, {\n        component: NoMatch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render(props) {\n          return React.createElement(Books, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/karineabalyan/development/project-3-boiler-authentication/client/src/App.js"],"names":["React","StaticRouter","BrowserRouter","Router","Route","Switch","Redirect","Books","Login","Signup","NoMatch","Nav","authenticateUser","PrivateRoute","Component","component","state","rest","props","authenticated","loading","App","authenticate","then","auth","setState","status","catch","err","console","log","ssr","RouterComponent"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,aAAa,IAAIC,MAAxC,EAAgDC,KAAhD,EAAuDC,MAAvD,EAA+DC,QAA/D,QAA+E,kBAA/E;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,OAAP,MAAoB,iBAApB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA;AAAQ;AAAiBC,gBAAzB,QAAiD,wBAAjD;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe;AAAA,MAAcC,SAAd,QAAGC,SAAH;AAAA,MAAgCC,KAAhC,QAAyBA,KAAzB;AAAA,MAA0CC,IAA1C;;AAAA,SACnB,oBAAC,KAAD,oBAAWA,IAAX;AAAiB,IAAA,MAAM,EAAE,gBAACC,KAAD;AAAA,aACvBF,KAAK,CAACG,aAAN,KAAwB,IAAxB,GACI,oBAAC,SAAD,oBAAeD,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADJ,GAEIF,KAAK,CAACI,OAAN,KAAkB,IAAlB,GACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,GAEE,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALiB;AAAA,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADmB;AAAA,CAArB;;IAUMC,G;;;;;AACJ;AACA;AACA,eAAYH,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,6EAAMA,KAAN;;AADiB,UAUnBI,YAVmB,GAUJ;AAAA,aAAMV,gBAAgB,GAClCW,IADkB,CACb,UAAAC,IAAI;AAAA,eAAI,MAAKC,QAAL,CAAc;AAAEN,UAAAA,aAAa,EAAEK,IAAI,CAACE,MAAL,IAAe,GAAf,GAAqB,IAArB,GAA4B,KAA7C;AAAoDN,UAAAA,OAAO,EAAE;AAA7D,SAAd,CAAJ;AAAA,OADS,EAElBO,KAFkB,CAEZ,UAAAC,GAAG;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAJ;AAAA,OAFS,CAAN;AAAA,KAVI;;AAEjB,UAAKZ,KAAL,GAAa;AACXG,MAAAA,aAAa,EAAE,KADJ;AAEXC,MAAAA,OAAO,EAAE,KAFE;AAGXW,MAAAA,GAAG,EAAEb,KAAK,CAACa,GAAN,GAAY,IAAZ,GAAmB;AAHb,KAAb;AAFiB;AAOlB;;;;yCAOoB,CACnB;AACD;;;6BAEQ;AACP,UAAMC,eAAe,GAAG,KAAKhB,KAAL,CAAWe,GAAX,GAAiB9B,YAAjB,GAAgCE,MAAxD;AACA,aACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAcE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAEO,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdF,EAgBI,oBAAC,KAAD;AACA,QAAA,KAAK,MADL;AAEA,QAAA,IAAI,EAAC,GAFL;AAGA,QAAA,MAAM,EAAE,gBAACQ,KAAD;AAAA,iBACN,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADM;AAAA,SAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAhBJ,CAFF,CADF,CADF;AAiCD;;;;EAxDelB,KAAK,CAACc,S;;AA2DxB,eAAeO,GAAf","sourcesContent":["import React from \"react\";\nimport { StaticRouter, BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport Books from \"./pages/Books\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport NoMatch from \"./pages/NoMatch\";\nimport Nav from \"./components/Nav\";\nimport {/* getCookie, */ authenticateUser } from \"./utils/handleSessions\";\n\nconst PrivateRoute = ({ component: Component, state: state, ...rest }) => (\n  <Route {...rest} render={(props) => (\n    state.authenticated === true\n      ? <Component {...props} />\n      : state.loading === true\n        ? <div></div>\n        : <Redirect to='/' />\n  )} />\n)\n\nclass App extends React.Component {\n  // check cookie\n  // getCookie();\n  constructor(props) {\n    super(props);\n    this.state = {\n      authenticated: false,\n      loading: false,\n      ssr: props.ssr ? true : false\n    }\n  }\n\n\n  authenticate = () => authenticateUser()\n    .then(auth => this.setState({ authenticated: auth.status == 200 ? true : false, loading: false }))\n    .catch(err => console.log(err))\n\n  componentWillMount() {\n    // this.authenticate();\n  }\n\n  render() {\n    const RouterComponent = this.state.ssr ? StaticRouter : Router;\n    return (\n      <RouterComponent>\n        <div>\n          <Nav />\n          <Switch>\n            {/* <Route\n              exact\n              path=\"/\"\n              render={(props) =>\n                <Login {...props} authenticate={this.authenticate} authenticated={this.state.authenticated} />}\n            />\n            <Route\n              exact\n              path=\"/signup\"\n              render={(props) =>\n                <Signup {...props} authenticate={this.authenticate} authenticated={this.state.authenticated} />}\n            /> */}\n            {/* <PrivateRoute exact path=\"/books\" state={this.state} component={Books} /> */}\n            <Route component={NoMatch} />\n            {/* <Route path=\"/\" component={Books} /> */}\n            { <Route\n              exact\n              path=\"/\"\n              render={(props) =>\n                <Books />}\n            />}\n\n          </Switch>\n\n        </div>\n      </RouterComponent>\n\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}